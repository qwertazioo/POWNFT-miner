<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>POW NFT Miner</title>
</head>




<script type="module">
    interface Config {
    walletPrivateKey: string;
    rpcUrl: string;
    nftContractAddress: string;
}

async function setupWallet(config: Config) {
    const wallet = new ethers.Wallet(config.walletPrivateKey);
    const provider = new ethers.providers.JsonRpcProvider(config.rpcUrl);
    return wallet.connect(provider);
}

async function mintNFT(signer: ethers.Signer, contractAddress: string) {
    const contract = new ethers.Contract(contractAddress, [
        {
            constant: false,
            inputs: [],
            name: "mint",
            outputs: [{
                name: "",
                type: "uint256"
            }],
            payable: true,
            stateMutability: "payable",
            type: "function"
        }
    ], signer);

    try {
        const tx = await contract.mint({
            value: ethers.utils.parseEther("0.1")
        });
        console.log(`Mint transaction sent: ${tx.hash}`);
        await tx.wait();
        console.log('NFT minted successfully!');
    } catch (error) {
        console.error('Mint failed:', error);
    }
}

async function main() {
    const config: Config = {
        walletPrivateKey: process.env.PRIVATE_KEY!,
        rpcUrl: process.env.RPC_URL!,
        nftContractAddress: process.env.CONTRACT_ADDRESS!
    };

    const signer = await setupWallet(config);
    await mintNFT(signer, config.nftContractAddress);
}

main().catch(console.error);
</script>
</html>
